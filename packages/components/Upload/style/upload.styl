@import '../../../theme-chalk/variable.styl';

.x-upload
    display inline-block
    cursor pointer
    user-select none
    font-size 14px
    .x-upload__file
        display none
    .x-upload__default
        background-color #f4f5f5
        color $base_theme_color
        padding 5px 15px
        border-radius 2px
        display inline-block
        .x-upload__default__icon
            vertical-align text-bottom
            margin-right 8px
            width 20px
            height 20px
        &:hover
            background-color #eceded
    .x-upload__position-right
        display flex
        align-items center
        .x-upload__prompt
            margin-left 10px
    .x-upload__position-left
        display flex
        align-items center
        flex-direction row-reverse
        justify-content left
        .x-upload__prompt
            margin-right 10px
    .x-upload__position-bottom
        display block
        .x-upload__prompt
            margin-top 10px
    .x-upload__prompt
        color #808080
        font-size 12px

    .x-upload__files
        margin-top 5px
        display flex
        flex-wrap wrap
        .x-upload__files__block
            display inline-flex
            margin-right 8px
            margin-bottom 8px
            height 52px
            background-color #f4f5f5
            border-radius 4px
            overflow hidden
            &:hover
                background-color #eceded
            .x-upload__files__block__display
                height 100%
                width 52px
                padding 8px
                box-sizing border-box
                .x-upload__files__block__display__img
                    width 100%
                    height 100%
                    border-radius 4px
                    overflow hidden
                    img
                        width 100%
                        height 100%
                .x-upload__files__block__display__normal-file
                    height 100%
                    background-color #a7abb0
                    border-radius 4px
                    position relative
                    .x-upload__document
                        color #fff
                        width 18px
                        height 18px
                        position absolute
                        top 50%
                        left 50%
                        transform translate(-50%, -50%)
            .x-upload__files__block__main
                width 150px
                display flex
                flex-direction column
                padding 8px 0
                box-sizing border-box
                .x-upload__files__block__main__info
                    flex 1
                    display flex
                    justify-content space-between
                    align-items center
                    .x-upload__files__block__main__info__name
                        font-weight bolder
                        overflow hidden
                        text-overflow ellipsis
                        white-space nowrap
                    .x-upload__files__block__main__info__size
                        color #909399
                        font-size 13px
                        margin-left 8px
                .x-upload__files__block__main__progress
                    font-size 12px
                    line-height 1
                    .x-upload__files__block__main__progress__wrap
                        height 4px
                        border-radius 22px
                        background-color #eaebeb
                        overflow hidden
                        margin-bottom 5px
                        .x-upload__files__block__main__progress__bar
                            height 100%
                            border-radius 22px
                            background-color #3bb346
                            transition width .3s
                    .x-upload__files__block__main__progress__error
                        display flex
                        color #f93920
                        align-items center
                        .x-upload__error-icon
                            margin-right 2px
                            width 14px
                            height 14px
                        div
                            margin-top 1px
            .x-upload__files__block__close
                margin 15px 10px
                border-radius 4px
                width 22px
                height 22px
                &:hover
                    background-color #e2e4e4
                &:active
                    background-color #d4d6d6
                .x-upload__close
                    color #474a4d
                    width 18px
                    height 18px
                    margin 2px
        .x-upload__files__block-success
            background-color #e1f3d8
            &:hover
                background-color #e1f3d8
            .x-upload__files__block__close:hover
                background-color #d7e7cf
        .x-upload__files__block-fail
            background-color #fef2ed
            &:hover
                background-color #feddd2
            .x-upload__files__block__close:hover
                background-color #f3d5ca
    .file-enter-active,
    .file-leave-active
        transition all .5s ease
    .file-enter-from,
    .file-leave-to
        opacity 0
        transform translateY(-30px)

    .x-upload__picture
        width 92px
        height 92px
        box-sizing border-box
        border 2px dashed #e3e4e5
        border-radius 4px
        display flex
        align-items center
        justify-content center
        background-color #f4f5f5
        &:hover
            background-color #eceded
            border-color #d4d5d6
        &:active
            background-color #e4e4e5
            border-color #c3c4c5
        svg
            color #333
            
    .x-upload__pictures__block
        width 92px
        height 92px
        box-sizing border-box
        margin-right 10px
        margin-bottom 10px
        border-radius 4px
        overflow hidden
        position relative
        .x-upload__pictures__block__image
            width 100%
            height 100%
        .x-upload__pictures__block__delete
            position absolute
            inset 0
            background-color rgba(0, 0, 0, .5)
            display none
            z-index 10
            svg
                color #fff
                position absolute
                right 5px
                top 5px
        .x-upload-transparent
            background-color transparent
        .x-upload__pictures__block__upload
            position absolute
            inset 0
            background-color rgba(0, 0, 0, .5)
            display flex
            align-items center
            justify-content center
            svg
                width 25px
                height 25px
                .x-upload__progress
                    transition all 300ms
                    stroke-dashoffset 0
                    transition stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease 0s
                    transform rotate(-280deg)
                    transform-origin center center
        &:hover
            .x-upload__pictures__block__delete
                display block
    .x-upload__pictures__block-fail
        border 1px solid #f93920
        position relative
        .x-upload__error-flag
            position absolute
            bottom 10px
            right 5px
            color #f93920
    
.x-upload-drag
    display block
    .x-upload__drag
        border 2px dashed #e8e8e8
        border-radius 4px
        padding 10px 0
        .x-upload__drag__icon
            display flex
            justify-content center
            padding 10px 0
            svg
                color #a8abb2
                width 25px
                height 25px
        .x-upload__drag__info
            text-align center
        .x-upload__drag__tips
            text-align center
        &:hover
            border-color $base_theme_color
            background-color $base_theme_color_opacity
            .x-upload__drag__icon
                svg
                    color $base_theme_color
.x-upload-picture
    display inline-flex
    flex-wrap wrap

